ProtocolWithChanges: !protocol
  sequence:
    int8ToInt: int8
    int8ToLong: int8
    int8ToUint: int8
    int8ToUlong: int8
    int8ToFloat: int8
    int8ToDouble: int8

    intToUint: int
    intToLong: int
    intToFloat: int
    intToDouble: int
    uintToUlong: uint
    uintToFloat: uint
    uintToDouble: uint

    floatToDouble: float

    intToString: int
    uintToString: uint
    longToString: long
    ulongToString: ulong
    floatToString: float
    doubleToString: double

    intToOptional: int
    floatToOptional: float
    stringToOptional: string

    intToUnion: int
    floatToUnion: float
    stringToUnion: string

    optionalIntToFloat: int?
    optionalFloatToString: float?

    aliasedLongToString: AliasedLongToString

    # recordToAlias: RecordWithChanges

    optionalIntToUnion: int?
    optionalRecordToUnion: RecordWithChanges?

    recordWithChanges: RecordWithChanges
    aliasedRecordWithChanges: AliasedRecordWithChanges

    optionalRecordWithChanges: RecordWithChanges?
    aliasedOptionalRecordWithChanges: AliasedRecordWithChanges?

    unionRecordWithChanges: [RecordWithChanges, int]
    # aliasedUnionRecordWithChanges: [AliasedRecordWithChanges, int]

    unionWithSameTypeset: [RecordWithChanges, int, float, string]
    unionWithTypesAdded: [RecordWithChanges, float]
    unionWithTypesRemoved: [RecordWithChanges, int, float, string]

    vectorRecordWithChanges: RecordWithChanges*

    streamedRecordWithChanges: !stream
      items: RecordWithChanges


AliasedLongToString: long
AliasedRecordWithChanges: RecordWithChanges

RecordWithChanges: !record
  fields:
    intToLong: int
    deprecatedVector: int*
    floatToDouble: float
    deprecatedArray: byte[7]
    optionalLongToString: long?
    deprecatedMap: string->int*
    unchangedRecord: UnchangedRecord

UnchangedRecord: !record
  fields:
    name: string
    age: int
    meta: string->double

UnusedProtocol: !protocol
  sequence:
    samples: !stream
      items: UnchangedRecord
