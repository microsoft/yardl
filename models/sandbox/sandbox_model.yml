P: !protocol
  sequence:
    value: WithUnion

PT<T>: !record
  fields:
    x: T
    y: T
    z: int

# WithGenericUnion<T, U>: !record
#   fields:
#     f: [PT<T>, PT<U>]

MyString: string

PInt: !record
  fields:
    x: int
    y: int

MyUnion<T, U>: [T, U]

WithUnion: !record
  fields:
    f:
      - null
      - int
      - float*
      - MyString
      - PInt
      - string->int
