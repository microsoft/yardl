# This file was generated by the "yardl" tool. DO NOT EDIT.

import datetime
import enum
import types
import typing

import numpy as np
import numpy.typing as npt

from .. import yardl_types as yardl
from .. import _dtypes


T1 = typing.TypeVar("T1")
T1_NP = typing.TypeVar("T1_NP", bound=np.generic)
T2 = typing.TypeVar("T2")
T2_NP = typing.TypeVar("T2_NP", bound=np.generic)


class Tuple(typing.Generic[T1, T2]):
    v1: T1
    v2: T2

    def __init__(self, *,
        v1: T1,
        v2: T2,
    ):
        self.v1 = v1
        self.v2 = v2

    def __eq__(self, other: object) -> bool:
        return (
            isinstance(other, Tuple)
            and yardl.structural_equal(self.v1, other.v1)
            and yardl.structural_equal(self.v2, other.v2)
        )

    def __str__(self) -> str:
        return f"Tuple(v1={self.v1}, v2={self.v2})"

    def __repr__(self) -> str:
        return f"Tuple(v1={repr(self.v1)}, v2={repr(self.v2)})"


def _mk_get_dtype():
    dtype_map: dict[typing.Union[type, types.GenericAlias], typing.Union[np.dtype[typing.Any], typing.Callable[[tuple[type, ...]], np.dtype[typing.Any]]]] = {}
    get_dtype = _dtypes.make_get_dtype_func(dtype_map)

    dtype_map.setdefault(Tuple, lambda type_args: np.dtype([('v1', get_dtype(type_args[0])), ('v2', get_dtype(type_args[1]))], align=True))

    return get_dtype

get_dtype = _mk_get_dtype()

