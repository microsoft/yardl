ProtocolWithChanges: !protocol
  sequence:
    int8ToInt: int
    int8ToLong: long
    int8ToUint: uint
    int8ToUlong: ulong
    int8ToFloat: float
    int8ToDouble: double

    intToUint: uint
    intToLong: long
    intToFloat: float
    intToDouble: double
    uintToUlong: ulong
    uintToFloat: float
    uintToDouble: double

    floatToDouble: double

    intToString: string
    uintToString: string
    longToString: string
    ulongToString: string
    floatToString: string
    doubleToString: string

    intToOptional: int?
    floatToOptional: float?
    stringToOptional: string?

    intToUnion: [int, bool]
    floatToUnion: [float, bool]
    stringToUnion: [string, bool]

    optionalIntToFloat: float?
    optionalFloatToString: string?

    aliasedLongToString: AliasedLongToString

    # recordToAlias: AliasOfAliasedRecordWithChanges

    optionalIntToUnion: [null, int, string]
    optionalRecordToUnion: [null, RecordWithChanges, string]

    recordWithChanges: RecordWithChanges
    aliasedRecordWithChanges: AliasedRecordWithChanges

    optionalRecordWithChanges: RecordWithChanges?
    aliasedOptionalRecordWithChanges: AliasedRecordWithChanges?

    unionRecordWithChanges: [RecordWithChanges, int]
    # aliasedUnionRecordWithChanges: [AliasedRecordWithChanges, int]

    unionWithSameTypeset: [float, RecordWithChanges, string, int]
    unionWithTypesAdded: [RecordWithChanges, int, float, string]
    unionWithTypesRemoved: [RecordWithChanges, string]

    vectorRecordWithChanges: RecordWithChanges*

    streamedRecordWithChanges: !stream
      items: RecordWithChanges


AliasedLongToString: string
AliasedRecordWithChanges: RecordWithChanges
AliasOfAliasedRecordWithChanges: AliasedRecordWithChanges

RecordWithChanges: !record
  fields:
    floatToDouble: double
    unchangedRecord: UnchangedRecord
    intToLong: long
    optionalLongToString: string?

UnchangedRecord: !record
  fields:
    name: string
    age: int
    meta: string->double

UnusedProtocol: !protocol
  sequence:
    samples: !stream
      items: UnchangedRecord
