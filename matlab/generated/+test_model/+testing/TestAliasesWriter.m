% This file was generated by the "yardl" tool. DO NOT EDIT.

classdef TestAliasesWriter < test_model.AliasesWriterBase
  properties (Access = private)
    writer_
    create_reader_
    mock_writer_
    close_called_
    filename_
    format_
  end

  methods
    function self = TestAliasesWriter(testCase, format, create_writer, create_reader)
      self.filename_ = tempname();
      self.format_ = format;
      self.writer_ = create_writer(self.filename_);
      self.create_reader_ = create_reader;
      self.mock_writer_ = test_model.testing.MockAliasesWriter(testCase);
      self.close_called_ = false;
    end

    function delete(self)
      delete(self.filename_);
      if ~self.close_called_
        % ADD_FAILURE() << ...;
        throw(yardl.RuntimeError("Close() must be called on 'TestAliasesWriter' to verify mocks"));
      end
    end
    function end_stream_of_aliased_generic_union_2(self)
      end_stream_of_aliased_generic_union_2@test_model.AliasesWriterBase(self);
      self.writer_.end_stream_of_aliased_generic_union_2();
    end

  end

  methods (Access=protected)
    function write_aliased_string_(self, value)
      self.writer_.write_aliased_string(value);
      self.mock_writer_.expect_write_aliased_string_(value);
    end

    function write_aliased_enum_(self, value)
      self.writer_.write_aliased_enum(value);
      self.mock_writer_.expect_write_aliased_enum_(value);
    end

    function write_aliased_open_generic_(self, value)
      self.writer_.write_aliased_open_generic(value);
      self.mock_writer_.expect_write_aliased_open_generic_(value);
    end

    function write_aliased_closed_generic_(self, value)
      self.writer_.write_aliased_closed_generic(value);
      self.mock_writer_.expect_write_aliased_closed_generic_(value);
    end

    function write_aliased_optional_(self, value)
      self.writer_.write_aliased_optional(value);
      self.mock_writer_.expect_write_aliased_optional_(value);
    end

    function write_aliased_generic_optional_(self, value)
      self.writer_.write_aliased_generic_optional(value);
      self.mock_writer_.expect_write_aliased_generic_optional_(value);
    end

    function write_aliased_generic_union_2_(self, value)
      self.writer_.write_aliased_generic_union_2(value);
      self.mock_writer_.expect_write_aliased_generic_union_2_(value);
    end

    function write_aliased_generic_vector_(self, value)
      self.writer_.write_aliased_generic_vector(value);
      self.mock_writer_.expect_write_aliased_generic_vector_(value);
    end

    function write_aliased_generic_fixed_vector_(self, value)
      self.writer_.write_aliased_generic_fixed_vector(value);
      self.mock_writer_.expect_write_aliased_generic_fixed_vector_(value);
    end

    function write_stream_of_aliased_generic_union_2_(self, value)
      self.writer_.write_stream_of_aliased_generic_union_2(value);
      self.mock_writer_.expect_write_stream_of_aliased_generic_union_2_(value);
    end

    function write_vectors_(self, value)
      self.writer_.write_vectors(value);
      self.mock_writer_.expect_write_vectors_(value);
    end

    function close_(self)
      self.close_called_ = true;
      self.writer_.close();
      mock_copy = copy(self.mock_writer_);

      reader = self.create_reader_(self.filename_);
      reader.copy_to(self.mock_writer_);
      reader.close();
      self.mock_writer_.verify();
      self.mock_writer_.close();

      translated = invoke_translator(self.filename_, self.format_, self.format_);
      reader = self.create_reader_(translated);
      reader.copy_to(mock_copy);
      reader.close();
      mock_copy.verify();
      mock_copy.close();
      delete(translated);
    end

    function end_stream_(self)
    end
  end
end
